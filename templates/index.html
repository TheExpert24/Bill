<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bill</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 40px;
            background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('/static/bg.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            min-height: 100vh;
            color: white;
        }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .user-info { display: flex; align-items: center; gap: 15px; }
        .user-avatar { width: 40px; height: 40px; border-radius: 50%; }
        .user-initial { width: 40px; height: 40px; border-radius: 50%; background: #007bff; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 2px solid rgba(255,255,255,0.3); }
        .login-btn, .logout-btn { padding: 10px 20px; background: rgba(255,255,255,0.2); color: white; text-decoration: none; border-radius: 8px; border: 1px solid rgba(255,255,255,0.3); transition: all 0.3s; }
        .login-btn:hover, .logout-btn:hover { background: rgba(255,255,255,0.3); transform: translateY(-2px); }
        form { max-width: 400px; }
        label { display: block; margin-top: 15px; font-weight: 600; color: #f8f9fa; font-size: 16px; }
        input, select { width: 100%; padding: 12px; margin-top: 8px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.1); color: white; font-size: 16px; }
        select option { background: #333; color: white; }
        input::placeholder { color: rgba(255,255,255,0.7); }
        input:focus, select:focus { outline: none; border-color: #007bff; background: rgba(255,255,255,0.2); }
        button { margin-top: 25px; padding: 12px 24px; background: #007bff; color: white; border: none; cursor: pointer; border-radius: 8px; font-weight: 600; font-size: 16px; transition: all 0.3s; }
        button:hover { background: #0056b3; transform: translateY(-2px); }
        button:disabled { background: #666; cursor: not-allowed; transform: none; }
        .login-required { background: rgba(248,249,250,0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.2); }
        p { color: #f8f9fa; font-size: 18px; line-height: 1.6; }
        h1 { color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
    </style>
</head>
<body>
    <div class="header">
        <h1>Bill</h1>
        <div class="user-info">
            {% if user %}
                <div class="user-initial">{{ user.first_name[0]|upper }}{{ user.last_name[0]|upper }}</div>
                <span>Welcome, {{ user.first_name }}!</span>
                <a href="/logout" class="logout-btn">Logout</a>
            {% else %}
                <a href="/login" class="login-btn">Sign in with Google</a>
            {% endif %}
        </div>
    </div>
    
    {% if user %}
        <p>Enter your investment requirements and goals. Bill will automatically help you invest in the stock market.</p>
        <form method="POST">
            <label for="capital">Total Capital ($):</label>
            <input type="number" id="capital" name="capital" required min="100">

            <label for="risk_tolerance">Risk Tolerance (% per trade):</label>
            <input type="number" id="risk_tolerance" name="risk_tolerance" required min="0.1" max="10" step="0.1" value="2">

            <label for="goal">Investment Goal:</label>
            <select id="goal" name="goal" required>
                <option value="conservative">Conservative (Lower risk, steady returns)</option>
                <option value="moderate" selected>Moderate (Balanced risk and return)</option>
                <option value="aggressive">Aggressive (Higher risk, higher potential returns)</option>
            </select>

            <label for="time_horizon">Time Horizon:</label>
            <select id="time_horizon" name="time_horizon" required>
                <option value="short">Short-term (Days to weeks)</option>
                <option value="medium" selected>Medium-term (Weeks to months)</option>
                <option value="long">Long-term (Months to years)</option>
            </select>

            <button type="submit">Get Recommendations</button>
        </form>
        
        <div style="margin-top: 30px;">
            <a href="/accounts" style="padding: 10px; background: #28a745; color: white; text-decoration: none; border-radius: 4px;">View My Recommendations History</a>
        </div>
    {% else %}
        <div class="login-required">
            <h3>Please sign in to access investment recommendations</h3>
            <p>You need to sign in with your Google account to get personalized investment recommendations and save your investment history.</p>
            <a href="/login" class="login-btn">Sign in with Google</a>
        </div>
    {% endif %}
</body>
</html>
